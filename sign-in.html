<html>
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="images/android-desktop.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Material Design Lite">
    <link rel="apple-touch-icon-precomposed" href="images/ios-desktop.png">
    <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">
    <meta name="msapplication-TileColor" content="#3372DF">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.cyan-light_blue.min.css">
    <link rel="stylesheet" href="styles-dashboard.css">
	<style>
    #view-source {
      position: fixed;
      display: block;
      right: 0;
      bottom: 0;
      margin-right: 40px;
      margin-bottom: 40px;
      z-index: 900;
    }
    </style>
	
	<title>Sign In</title>
	<meta name="description" content="Sign into the 1509 Online easy-to-use dashboard">
</head>
<body>
    <div class="demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
		<div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--12-col">
			<h2>Sign in to dashboard</h2>
			<p>Sign in with your given email and password to access the easy-to-use 1509 Editor's dashboard, where you can publish new articles, edit articles or get help with publishing articles. If you do not know or have forgotten your sign in details, ask the website administrator.</p>
			<hr>
			<div id="sign-in">
				<form action="#">
					<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
						<input class="mdl-textfield__input" type="text" id="email">
						<label class="mdl-textfield__label" for="email">Email</label>
					</div>
				</form>
				<form action="#">
					<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
						<input class="mdl-textfield__input" type="password" id="password" required name="password">
						<label class="mdl-textfield__label" for="password">Password</label>
					</div>
				</form>
				<button id="sign-in-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-color-text--white">
					<i class="material-icons">account_circle</i>Sign In
				</button>
			</div>
			<button id="sign-out" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-color-text--white">
				<i class="material-icons">account_circle</i>Sign out
			</button>
		</div>
	</div>
<script src="https://www.gstatic.com/firebasejs/3.5.2/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase-auth.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyChG9cMyAkkZSXCZp1OmfpxbJYnJvh3XnQ",
        authDomain: "online-eff31.firebaseapp.com",
        databaseURL: "https://online-eff31.firebaseio.com",
        storageBucket: "online-eff31.appspot.com",
        messagingSenderId: "655714895872"
      };
      firebase.initializeApp(config);
        /*var provider = new firebase.auth.GoogleAuthProvider();*/
        firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
    // User is signed in.
      window.location = "https://1509-online.github.io/dashboard.html"
      document.getElementById("sign-in").style.visibility = 'hidden'
      document.getElementById("sign-out").style.visibility = 'visible'
  } else {
    // No user is signed in.
      document.getElementById("sign-out").style.visibility = 'hidden'
      document.getElementById("sign-in").style.visibility = 'visible'
  }
});
        document.getElementById("sign-in-button").addEventListener("click", function(){

        firebase.auth().signInWithEmailAndPassword(document.getElementById("email").value, document.getElementById("password").value).catch(function(error) {
  // Handle Errors here.
  var errorCode = error.code;
  var errorMessage = error.message;
            alert(errorMessage);
  // ...
});
        });
        
        document.getElementById("sign-out").addEventListener("click", function(){
        firebase.auth().signOut().then(function() {
  // Sign-out successful.
}, function(error) {
  // An error happened.
});
        });
        
        
        
      </script>
	  <script src="https://code.getmdl.io/1.2.1/material.min.js"></script>
      </body>
      </html>
