<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="images/android-desktop.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Material Design Lite">
    <link rel="apple-touch-icon-precomposed" href="images/ios-desktop.png">
    <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">
    <meta name="msapplication-TileColor" content="#3372DF">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.cyan-light_blue.min.css">
    <link rel="stylesheet" href="styles-dashboard.css">

    <title>Help</title>
    <meta name="description" content="Help and FAQ for editing">

    <style>
    #view-source {
      position: fixed;
      display: block;
      right: 0;
      bottom: 0;
      margin-right: 40px;
      margin-bottom: 40px;
      z-index: 900;
    }
    </style>
  </head>
  <body>
    <div class="demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
      <header class="demo-header mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600">
        <div class="mdl-layout__header-row">
          <span class="mdl-layout-title">Help</span>
          <div class="mdl-layout-spacer"></div>
        </div>
      </header>
      <div class="demo-drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--blue-grey-50">
        <header class="demo-drawer-header">
          <img src="images/user.jpg" class="demo-avatar">
          <div class="mdl-layout-spacer"></div>
          <div class="demo-avatar-dropdown">
            <span id="email">example@stpaulsschool.org.uk</span>
            <div class="mdl-layout-spacer"></div>
          </div>
        </header>
        <nav class="demo-navigation mdl-navigation mdl-color--blue-grey-800">
          <a class="mdl-navigation__link" href="dashboard.html"><i class="mdl-color-text--white material-icons" role="presentation">home</i>Home</a>
          <a class="mdl-navigation__link" href="dash_create.html"><i class="mdl-color-text--white material-icons" role="presentation">file_upload</i>New Article</a>
          <a class="mdl-navigation__link" href="dash_edit.html"><i class="mdl-color-text--white material-icons" role="presentation">edit</i>Edit Article</a>
          <a class="mdl-navigation__link" href="dash_faq.html"><i class="mdl-color-text--white material-icons" role="presentation">help_outline</i>Help</a>
          <a class="mdl-navigation__link" href="dash_settings.html"><i class="mdl-color-text--white material-icons" role="presentation">settings</i>Settings</a>
		  <a class="mdl-navigation__link" id="sign-out"><i class="mdl-color-text--white material-icons" role="presentation">account_circle</i>Sign Out</a>
          <div class="mdl-layout-spacer"></div>
        </nav>
      </div>
      <main class="mdl-layout__content mdl-color--grey-100">
        <div class="mdl-grid demo-content">
          <div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--12-col">
            <h2>Article Publishing Help</h2>
            <hr>
            <p>For headers put # at the start. The more hashtags the smaller the header (up to 6). Example:<br># This will be a header<br>Will come out like this:<br></p><h1>This will be a header</h1>
            <hr>
            <p>For bold put ** at the start and ** at the end. Example:<br>**This will be bold** <br>Will come out like this:<br></p><b>This will be bold</b>
            <hr>
            <p>For italics put * at the start and * at the end. Example:<br>*This will be in italics* <br>Will come out like this:<br></p><i>This will be in italics</i>
            <hr>
		  <p>For links use [Text](Link). Example:<br>[Google](http://www.google.com)<br>Will come out like this:<br></p><a href="http://google.com">Google</a>
            <hr>
            <p>For bullet point lists put - at the start. Example:<br>- This will be a bullet point <br>Will come out like this:<br></p><ul><li>This will be a bullet point</li></ul>
		  <hr>
		  <p>For numbered lists put the number then . at the start. Example:<br>1. This will be a numbered list item <br>Will come out like this:<br></p><ol><li>This will be a numbered list item</li></ol>
		  <hr>
		  <p>For embedding images use ![Description](full image url =WIDTHx) to insert an image. Example:<br>![John Colet Statue](https://1509-online.github.io/images/bg_1024.jpg)<br>Will come out like this:<br></p><img src="https://1509-online.github.io/images/bg_1024.jpg"/>
		  <hr>
		  <p>For adding quotes insert > before the quote. Example:<br>> A quote<br>Will come out like this:<br></p><blockquote>A quote</blockquote>
		  <hr>
		  <p>For adding code put ` at the start and end of the code. Example:<br>`var hello = "hello"`<br>Will come out like this:<br></p><code>var hello = "hello"</code>
<p>For multiline code put ``` at the start and end of the code on separate lines to the code. Example:<br>```<br>var hello = "hello";<br>print(hello);<br>```<br>Will come out like this:<br></p><code>var hello = "hello";<br>print(hello);</code>
		  <hr>
            <p>For embedding surveys and competitions, create a form in <a href="http://forms.google.com" target="_blank">Google Forms</a>, then in the top right corner, click send. Then click on the <i class="material-icons">code</i> icon, copy the code at the bottom. In the article where you want the survey to appear type &lt;/p&gt;, then paste in the code and then type &lt;p&gt;</p>
            <hr>
            <a href="dash_create.html" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">OK, Add a new article now</a>
          </div>
        </div>
      </main>
    </div>
<script src="https://www.gstatic.com/firebasejs/3.5.2/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase-auth.js"></script>
	<script>
		//Preview article content method
		function preview() {
			var text = style(document.getElementById("code").value);
			document.getElementById("preview").innerHTML = text;
		}
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyChG9cMyAkkZSXCZp1OmfpxbJYnJvh3XnQ",
        authDomain: "online-eff31.firebaseapp.com",
        databaseURL: "https://online-eff31.firebaseio.com",
        storageBucket: "online-eff31.appspot.com",
        messagingSenderId: "655714895872"
      };
      firebase.initializeApp(config);
        /*var provider = new firebase.auth.GoogleAuthProvider();*/
        firebase.auth().onAuthStateChanged(function(user) {
		if (user) {
			// User is signed in.
			document.getElementById("email").innerHTML = user.email;
		} else {
			// User is not signed in, revert to homepage.
			window.location = "https://1509-online.github.io/index.html"
		}
		});
		
		//Sign Out Button
        document.getElementById("sign-out").addEventListener("click", function(){
        firebase.auth().signOut().then(function() {
				// Sign-out successful.
			}, function(error) {
				// An error happened.
			});
        });
		
		//Publish Method
        document.getElementById("publish").addEventListener("click", function(){
            var title = document.getElementById("title").value;
            var article = document.getElementById("code").value;
            var user = document.getElementById("user").value;
            var date = document.getElementById("date").value;
            var description = document.getElementById("summary").value;
            var image = document.getElementById("image").value;
            //To prevent accidents. I had one and it deleted everything :(
            if (title != "") {
            var articleRef = firebase.database().ref('entries/' + title);
            // An article entry.
            articleRef.set({ body: style(article), user: user, date: date, summary: description, image: image })
            .then(function() {
                  console.log('Synchronization succeeded');
                  alert("Success");
                  var title = document.getElementById("title").value = "";
                  var article = document.getElementById("code").value = "";
                  var user = document.getElementById("user").value = "";
                  var date = document.getElementById("date").value = "";
                  var description = document.getElementById("summary").value = "";
                  var image = document.getElementById("image").value = "";
                document.getElementById("preview").innerHTML = "";
                  })
                  .catch(function(error) {
                         console.log('Synchronization failed');
                         alert(error);
                    });
            } else {
                alert("Add a title");
            }
		});
		
		

	</script>
    <script src="https://code.getmdl.io/1.2.1/material.min.js"></script>
	
  </body>
</html>
